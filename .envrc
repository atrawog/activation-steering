# Load environment variables from .env file
dotenv_if_exists

# ChunkHound embedding provider uses VOYAGE_API_KEY via its own env var naming
export CHUNKHOUND_EMBEDDING__API_KEY="${VOYAGE_API_KEY}"

# GitHub MCP Server - uses GITHUB_PERSONAL_ACCESS_TOKEN from .env
if [[ -z "${GITHUB_PERSONAL_ACCESS_TOKEN:-}" ]]; then
    log_error "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
    log_error "GitHub MCP Server: GITHUB_PERSONAL_ACCESS_TOKEN not set in .env"
    log_error ""
    log_error "To create a Personal Access Token:"
    log_error "  1. Go to: https://github.com/settings/tokens?type=beta"
    log_error "  2. Click 'Generate new token'"
    log_error "  3. Name: mcp-server, Expiration: 90 days (or no expiration)"
    log_error "  4. Repository access: All repositories"
    log_error "  5. Permissions: Actions (Read), Contents (Read), Issues (R/W),"
    log_error "     Pull requests (R/W), Metadata (Read)"
    log_error "  6. Add to .env: GITHUB_PERSONAL_ACCESS_TOKEN=github_pat_YOUR_TOKEN"
    log_error "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
fi
